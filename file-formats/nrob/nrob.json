{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "http://github.com/SAP/abap-file-formats/file-formats/nrob/nrob.json",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "title": "Schema",
      "description": "Format version"
    },
    "header": {
      "type": "object",
      "title": "Header",
      "properties": {
        "description": {
          "type": "string",
          "title": "Description",
          "maxLength": 60,
          "description": "Text description for an number range object (length 60)"
        },
        "masterLanguage": {
          "type": "string",
          "minLength": 2,
          "maxLength": 2,
          "title": "Master Language",
          "description": "Master language of the development object\nAll translatable text shall be maintained in this language"
        },
        "abapLanguageVersion": {
          "type": "string",
          "enum": [
            "standard",
            "cloudDevelopment"
          ],
          "enumDescriptions": [
            "Standard",
            "ABAP for Cloud Development"
          ],
          "title": "Abap Language Version",
          "description": "ABAP language version"
        }
      },
      "additionalProperties": false,
      "required": [
        "description",
        "masterLanguage",
        "abapLanguageVersion"
      ]
    },
    "interval": {
      "title": "Interval",
      "type": "object",
      "properties": {
        "numberLengthDomain": {
          "type": "string",
          "minLength": 1,
          "maxLength": 30,
          "title": "Number Length Domain",
          "description": "Name of domain, which determines the length of the number range number. Define the amount of characters available for number range intervals. It must be of type NUMC or CHAR and have a field length of at least 1 and at most 20."
        },
        "percentWarning": {
          "type": "number",
          "minimum": 0.1,
          "maximum": 99.9,
          "title": "Percent Warning",
          "description": "Percentage of numbers remaining in a number range, upon reaching which in number assignment a warning is given. It must be between 0.1 and 99.9.\n\nExample: You have defined an interval from 1 to 1000. If you want to issue a warning at the number 900, enter 10 (%) here"
        },
        "subType": {
          "type": "string",
          "maxLength": 30,
          "title": "Sub Type",
          "description": "If you want to create subobjects for the elements of a field of the application table, specify the relevant data element for this table field. This data element must be active in the Data Dictionary and must have a check table. The domain of the data element must have a field length of between 1 and 6."
        },
        "untilYear": {
          "type": "boolean",
          "title": "Until Year",
          "description": "If you want the records of the business object to be differentiated by financial year, you set this option true. This structures the intervals of a number range object"
        },
        "rolling": {
          "type": "boolean",
          "title": "Rolling",
          "description": "For each interval of a number range object, the system checks when the available characters are used up. In the true setting, once the available characters of an interval are used up, the system starts again from the beginning and the lowest number is assigned again. You can suppress this behavior by setting this option false. If you do this, no more characters from an interval are assigned once the characters of the interval are used up. You can suppress rollover for the entire number range object, that is, the setting applies to all the intervals contained in the object."
        },
        "prefix": {
          "type": "boolean",
          "title": "Prefix",
          "description": "If it is set to true determined numbers consist of the prefix (name of subobject) and the numbers."
        }
      },
      "additionalProperties": false,
      "required": [
        "numberLengthDomain",
        "percentWarning",
        "subType",
        "untilYear",
        "rolling",
        "prefix"
      ]
    },
    "configuration": {
      "title": "Configuration",
      "type": "object",
      "properties": {
        "transactionId": {
          "type": "string",
          "maxLength": 20,
          "title": "Transaction ID",
          "description": "Transaction code for application specific transaction"
        },
        "buffering": {
          "type": "string",
          "title": "Buffering",
          "description": "Choose a buffer type \u0027none\u0027 for no buffering, \u0027mainBuffer\u0027 for buffering via main memory or \u0027parallel\u0027 for parallel buffering. ",
          "enum": [
            "mainBuffer",
            "parallel",
            "none"
          ],
          "enumDescriptions": [
            "Main memory buffering. \n\n Main memory buffering is the most efficient buffering solution with regards to system performance. Almost all number range objects use main memory buffering. However, it does have two restrictions: Numbers can no longer be assigned in chronological order. The numbering may contain gaps.",
            "Parallel buffering, \n\n Parallel buffering works in the same way as main memory buffering, with the difference that the number packages are not stored in the main memory, but are written to the table NRIVSHADOW.",
            "No buffering \n\n A number is taken from an interval stored in database NRIV. The table line is locked and this lock remains until the application that requested the number is closed, either with a COMMIT WORK or a ROLLBACK."
          ],
          "default": "mainBuffer"
        },
        "bufferedNumbers": {
          "type": "integer",
          "minimum": 0,
          "maximum": 99999999,
          "default": 10,
          "title": "Buffered Numbers",
          "description": "This value specifies the numbers in buffer. In case of parallel and main memory buffering, add a number for \u0027bufferedNumbers\u0027. It determines how many numbers are reserved in buffer for the intervals"
        }
      },
      "additionalProperties": false,
      "required": [
        "buffering",
        "bufferedNumbers"
      ]
    }
  },
  "required": [
    "$schema",
    "header",
    "interval",
    "configuration"
  ],
  "additionalProperties": false
}