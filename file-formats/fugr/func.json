{
  "$schema": "http://json-schema.org/draft/2019-09/schema#",
  "$id": "http://github.com/SAP/abap-file-formats/file-formats/fugr/func.json",
  "type": "object",
  "properties": {
    "header": {
      "type": "object",
      "title": "Header",
      "properties": {
        "$schema": {
          "type": "string",
          "title": "Schema",
          "description": "Format version"
        },
        "description": {
          "type": "string",
          "title": "Description",
          "maxLength": 74,
          "description": "Description for a function module"
        },
        "additionalProperties": false,
        "required": [
          "$schema",
          "description"
        ]
      },
      "processingType": {
        "type": "string",
        "enum": [
          "normal",
          "rfc",
          "update"
        ],
        "enumDescriptions": [
          "Normal",
          "RFC",
          "Update"
        ],
        "title": "Processing Type",
        "description": "Processing Type"
      },
      "basXmlEnabled": {
        "type": "boolean",
        "title": "basXml Enabled",
        "description": "basXml Enabled"
      },
      "rfcScope": {
        "type": "string",
        "enum": [
          "fromSameClientAndUser",
          "fromSameSystem",
          "fromAnySystem",
          "notClassified"
        ],
        "enumDescriptions": [
          "From same client and user",
          "From same system",
          "From any system",
          "Not classified"
        ],
        "title": "RFC Scope",
        "description": "RFC Scope"
      },
      "rfcVersion": {
        "type": "string",
        "enum": [
          "fastSerializationRequired",
          "any"
        ],
        "enumDescriptions": [
          "Fast Serialization Required",
          "Any"
        ],
        "title": "RFC Version",
        "description": "RFC Version"
      },
      "updateTaskKind": {
        "type": "string",
        "enum": [
          "startImmediate",
          "startDelayed",
          "immediateStartNoRestart",
          "collectiveRun",
          "unsupportedKind",
          "none"
        ],
        "enumDescriptions": [
          "Start immediate",
          "Start delayed",
          "Immediate start no restart",
          "Collective run",
          "Unsupported kind",
          "none"
        ],
        "title": "Update task kind",
        "description": "Update task kind"
      },
      "releaseState": {
        "type": "string",
        "enum": [
          "external",
          "internal",
          "obsolete",
          "markedForRelease"
        ],
        "enumDescriptions": [
          "External",
          "Internal",
          "Obsolete",
          "Marked for release"
        ],
        "title": "Release state",
        "description": "Release state"
      },
      "releaseDate": {
        "type": "date",
        "title": "Release date",
        "description": "Release date"
      },
      "abapFromJava": {
        "type": "boolean",
        "title": "Abap from java",
        "description": "Abap from java"
      },
      "javaFromAbap": {
        "type": "boolean",
        "title": "Java from abap",
        "description": "Java from abap"
      },
      "javaRemote": {
        "type": "boolean",
        "title": "Java remote",
        "description": "Java remote"
      },
      "global": {
        "type": "boolean",
        "title": "Global",
        "description": "Global"
      },
      "exceptionClasses": {
        "type": "boolean",
        "title": "Exception classes",
        "description": "Exception classes"
      },
      "application": {
        "type": "string",
        "title": "Application",
        "description": "Application"
      },
      "client": {
        "type": "string",
        "title": "Client",
        "description": "Client"
      },
      "host": {
        "type": "string",
        "title": "Host",
        "description": "Host"
      },
      "includeNumber": {
        "type": "string",
        "title": "Include number",
        "description": "Include number"
      },
      "notExecutable": {
        "type": "boolean",
        "title": "Is the FUNC executable",
        "description": "Is the FUNC executable"
      },
      "editLocked": {
        "type": "boolean",
        "title": "Edit-locked",
        "description": "Edit-locked"
      },
      "parameters": {
        "type": "array",
        "title": "Parameter descriptions",
        "description": "Parameter descriptions of the FUNC",
        "items": {
          "type": "object",
          "title": "Parameter",
          "description": "Parameter with name and description",
          "properties": {
            "name": {
              "type": "string",
              "maxLength": 30,
              "title": "Parameter name",
              "description": "Name of the parameter"
            },
            "description": {
              "type": "string",
              "maxLength": 79,
              "title": "Parameter description",
              "description": "Description of the parameter"
            }
          },
          "additionalProperties": false,
          "required": [
            "name",
            "description"
          ]
        }
      },
      "exceptions": {
        "type": "array",
        "title": "Exception descriptions",
        "description": "Exception descriptions of the FUNC",
        "items": {
          "type": "object",
          "title": "Exception",
          "description": "Exception with name and description",
          "properties": {
            "name": {
              "type": "string",
              "maxLength": 30,
              "title": "Exception name",
              "description": "Name of the exception"
            },
            "description": {
              "type": "string",
              "maxLength": 79,
              "title": "Exception description",
              "description": "Description of the exception"
            }
          },
          "additionalProperties": false,
          "required": [
            "name",
            "description"
          ]
        }
      }
    },
    "additionalProperties": false,
    "required": [
      "name",
      "description"
    ]
  },
  "if": {
    "processingType": {
      "const": "rfc"
    }
  },
  "then": {
    "required": [
      "basXmlEnabled",
      "rfcScope",
      "rfcVersion"
    ]
  },
  "if": {
    "processingType": {
      "const": "update"
    }
  },
  "then": {
    "required": [
      "updateTaskKind"
    ]
  },
  "additionalProperties": false,
  "required": [
    "processingType",
    "releaseState",
    "global",
    "exceptionClasses",
    "includeNumber",
    "active"
  ]
}