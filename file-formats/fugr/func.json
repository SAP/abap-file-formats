{
  "$schema": "http://json-schema.org/draft/2019-09/schema#",
  "$id": "http://github.com/SAP/abap-file-formats/file-formats/fugr/func.json",
  "type": "object",
  "properties": {
    "header": {
      "title": "Header",
      "type": "object",
      "properties": {
        "$schema": {
          "title": "Schema",
          "description": "Format version",
          "type": "string"
        },
        "description": {
          "title": "Description",
          "description": "Description for a function module",
          "type": "string",
          "maxLength": 74
        }
      },
      "additionalProperties": false,
      "required": [
        "$schema",
        "description"
      ]
    },
    "processingType": {
      "title": "Processing Type",
      "description": "Processing Type",
      "type": "string",
      "enum": [
        "normal",
        "rfc",
        "update"
      ],
      "enumDescriptions": [
        "Normal",
        "RFC",
        "Update"
      ]
    },
    "rfcFields": {
      "title": "RFC specific fields",
      "description": "Specific fields for rfc function modules",
      "type": "object",
      "properties": {
        "basXmlEnabled": {
          "title": "basXml enabled",
          "description": "basXml enabled",
          "type": "boolean"
        },
        "rfcScope": {
          "title": "RFC Scope",
          "description": "RFC Scope",
          "type": "string",
          "enum": [
            "fromSameClientAndUser",
            "fromSameSystem",
            "fromAnySystem",
            "notClassified"
          ],
          "enumDescriptions": [
            "From same client and user",
            "From same system",
            "From any system",
            "Not classified"
          ]
        },
        "rfcVersion": {
          "title": "RFC Version",
          "description": "RFC Version",
          "type": "string",
          "enum": [
            "fastSerializationRequired",
            "any"
          ],
          "enumDescriptions": [
            "Fast Serialization Required",
            "Any"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "basXmlEnabled",
        "rfcScope",
        "rfcVersion"
      ]
    },
    "updateFields": {
      "title": "Update specific fields",
      "description": "Specific fields for update function modules",
      "type": "object",
      "properties": {
        "updateTaskKind": {
          "title": "Update task kind",
          "description": "Update task kind",
          "type": "string",
          "enum": [
            "startImmediate",
            "startDelayed",
            "immediateStartNoRestart",
            "collectiveRun",
            "unsupportedKind",
            "none"
          ],
          "enumDescriptions": [
            "Start immediate",
            "Start delayed",
            "Immediate start no restart",
            "Collective run",
            "Unsupported kind",
            "none"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "updateTaskKind"
      ]
    },
    "releaseState": {
      "title": "Release state",
      "description": "Release state",
      "type": "string",
      "enum": [
        "external",
        "internal",
        "obsolete",
        "markedForRelease"
      ],
      "enumDescriptions": [
        "External",
        "Internal",
        "Obsolete",
        "Marked for release"
      ]
    },
    "releaseDate": {
      "title": "Release date",
      "description": "Release date",
      "type": "date"
    },
    "abapFromJava": {
      "title": "Abap from java",
      "description": "Abap from java",
      "type": "boolean"
    },
    "javaFromAbap": {
      "title": "Java from abap",
      "description": "Java from abap",
      "type": "boolean"
    },
    "javaRemote": {
      "title": "Java remote",
      "description": "Java remote",
      "type": "boolean"
    },
    "global": {
      "title": "Global",
      "description": "Global",
      "type": "boolean"
    },
    "exceptionClasses": {
      "title": "Exception classes",
      "description": "Exception classes",
      "type": "boolean"
    },
    "application": {
      "title": "Application",
      "description": "Application",
      "type": "string"
    },
    "client": {
      "title": "Client",
      "description": "Client",
      "type": "string"
    },
    "host": {
      "title": "Host",
      "description": "Host",
      "type": "string"
    },
    "includeNumber": {
      "title": "Include number",
      "description": "Include number",
      "type": "string"
    },
    "notExecutable": {
      "title": "Function module is not executable",
      "description": "If this flag is set, the function module cannot be called. It is deactivated in the function group",
      "type": "boolean"
    },
    "editLocked": {
      "title": "Edit-locked",
      "description": "Edit-locked",
      "type": "boolean"
    },
    "parameters": {
      "title": "Parameter descriptions",
      "description": "Parameter descriptions of the function module",
      "type": "array",
      "items": {
        "title": "Parameter",
        "description": "Parameter with name and description",
        "type": "object",
        "properties": {
          "name": {
            "title": "Parameter name",
            "description": "Name of the parameter",
            "type": "string",
            "maxLength": 30
          },
          "description": {
            "title": "Parameter description",
            "description": "Description of the parameter",
            "type": "string",
            "maxLength": 79
          }
        },
        "additionalProperties": false,
        "required": [
          "name",
          "description"
        ]
      }
    },
    "exceptions": {
      "title": "Exception descriptions",
      "description": "Exception descriptions of the FUNC",
      "type": "array",
      "items": {
        "title": "Exception",
        "description": "Exception with name and description",
        "type": "object",
        "properties": {
          "name": {
            "title": "Exception name",
            "description": "Name of the exception",
            "type": "string",
            "maxLength": 30
          },
          "description": {
            "title": "Exception description",
            "description": "Description of the exception",
            "type": "string",
            "maxLength": 79
          }
        },
        "additionalProperties": false,
        "required": [
          "name",
          "description"
        ]
      }
    }
  },
  "if": {
    "processingType": {
      "const": "rfc"
    }
  },
  "then": {
    "required": [
      "rfcFields"
    ]
  },
  "if": {
    "processingType": {
      "const": "update"
    }
  },
  "then": {
    "required": [
      "updateFields"
    ]
  },
  "additionalProperties": false,
  "required": [
    "processingType",
    "releaseState",
    "global",
    "exceptionClasses",
    "includeNumber",
    "notExecutable"
  ]
}
